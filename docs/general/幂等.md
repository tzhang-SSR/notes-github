# 幂等（Idempotent）
在软件开发中，如果某个操作执行一次或者多次的结果是一样的，那我们就叫它幂等
比如说如果一个HTTP请求重复执行的结果不变，那这个请求就是幂等

## 学习原因和参考
- 富途面试三面
- https://blog.csdn.net/luxiaoruo/article/details/106637224

## Restful 幂等
- GET：幂等，非事务性请求，无影响
- DELETE: 幂等，特殊的事务性请求，多次调用产生的效果一样，都是删除某个数据，尽管后续收到的状态码会不一样
- PUT：结合接口具体代码判断
    - 用固定数据替换掉原有数据：幂等
    - 每次调用都会对某个数据递增：非幂等
- POST： 非幂等，每次请求都会创建资源

## 如何实现幂等
- 数据库索引去重：把幂等字段作为索引，利用数据库唯一索引的特性，即数据库不会出现两条同样索引的数据，
    - 比如文章点赞，以用户ID和文章ID作为索引，可以防止用户重复点赞
- token缓存：为每个请求分配一个token，执行请求之后储存token，每次执行之前先校验是否已有缓存，没有缓存则执行，有则返回缓存结果

## 应用场景